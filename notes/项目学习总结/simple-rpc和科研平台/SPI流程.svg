<svg id="SvgjsSvg1006" width="4621.500152587891" height="1862.0000305175781" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs"><defs id="SvgjsDefs1007"><pattern patternUnits="userSpaceOnUse" id="pattern_mark_0" width="300" height="300"><text x="150" y="100" fill="rgba(229,229,229,0.8)" font-size="18" transform="rotate(-45, 150, 150)" style="dominant-baseline: middle; text-anchor: middle;"></text></pattern><pattern patternUnits="userSpaceOnUse" id="pattern_mark_1" width="300" height="300"><text x="150" y="200" fill="rgba(229,229,229,0.8)" font-size="18" transform="rotate(-45, 150, 150)" style="dominant-baseline: middle; text-anchor: middle;"></text></pattern><marker id="SvgjsMarker1049" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1050" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1053" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1054" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1070" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1071" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1105" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1106" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1115" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1116" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1125" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1126" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1143" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1144" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1151" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1152" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><pattern id="SvgjsPattern1159" x="0" y="0" width="494" height="185" patternUnits="userSpaceOnUse"><image id="SvgjsImage1160" xlink:href="https://cdn.processon.com/userId2-65373bad084e570cc4edfb5a?e=1698122173&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:Y-sU8rvwIoVthSMGrVddKsJ_RMw=" width="494" height="185" preserveAspectRatio="none" crossOrigin="anonymous" x="0" y="0"></image></pattern><marker id="SvgjsMarker1169" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1170" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1179" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1180" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1195" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1196" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1207" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1208" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1223" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1224" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1235" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1236" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><pattern id="SvgjsPattern1239" x="0" y="0" width="389" height="95" patternUnits="userSpaceOnUse"><image id="SvgjsImage1240" xlink:href="https://cdn.processon.com/userId2-653748cbdda0763d047fbe13?e=1698125531&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:TOiznvctWjm1p21Ug_hwjjSt8tQ=" width="389" height="95" preserveAspectRatio="none" crossOrigin="anonymous" x="0" y="0"></image></pattern><marker id="SvgjsMarker1243" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1244" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1253" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1254" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1265" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1266" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1281" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1282" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><pattern id="SvgjsPattern1285" x="0" y="0" width="1000" height="76" patternUnits="userSpaceOnUse"><image id="SvgjsImage1286" xlink:href="https://cdn.processon.com/userId2-653749ff2e25ae5849d4eb08?e=1698125839&amp;token=trhI0BY8QfVrIGn9nENop6JAc6l5nZuxhjQ62UfM:uBwWUyysvapMRjuEewtcRI1Ijjk=" width="1000" height="76" preserveAspectRatio="none" crossOrigin="anonymous" x="0" y="0"></image></pattern><marker id="SvgjsMarker1289" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1290" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1299" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1300" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1313" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1314" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1317" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1318" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1327" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1328" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1337" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1338" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1350" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1351" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1360" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1361" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker><marker id="SvgjsMarker1372" markerWidth="13" markerHeight="9" refX="9.5" refY="4.5" viewBox="0 0 13 9" orient="auto" markerUnits="userSpaceOnUse" stroke-dasharray="0,0"><path id="SvgjsPath1373" d="M0,0 L13,4.5 L0,9 L0,0" fill="#323232" stroke="#323232" stroke-width="1"></path></marker></defs><rect id="svgbackgroundid" width="4621.500152587891" height="1862.0000305175781" fill="transparent"></rect><rect id="SvgjsRect1009" width="4621.500152587891" height="1862.0000305175781" fill="url(#pattern_mark_0)"></rect><rect id="SvgjsRect1010" width="4621.500152587891" height="1862.0000305175781" fill="url(#pattern_mark_1)"></rect><g id="SvgjsG1011" transform="translate(741.0000152587891,24.999984741210938)"><path id="SvgjsPath1012" d="M 0 4Q 0 0 4 0L 321 0Q 325 0 325 4L 325 46Q 325 50 321 50L 4 50Q 0 50 0 46Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#e5f6da"></path><g id="SvgjsG1013"><text id="SvgjsText1014" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="305px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="14.375" transform="rotate(0)"><tspan id="SvgjsTspan1015" dy="16.25" x="162.5"><tspan id="SvgjsTspan1016" style="">getExtension("loadBalance")</tspan></tspan></text></g></g><g id="SvgjsG1017" transform="translate(1353.000015258789,68.99998474121094)"><path id="SvgjsPath1018" d="M 0 4Q 0 0 4 0L 926 0Q 930 0 930 4L 930 178Q 930 182 926 182L 4 182Q 0 182 0 178Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill="none"></path><g id="SvgjsG1019"><text id="SvgjsText1020" font-family="微软雅黑" text-anchor="start" font-size="16px" width="910px" fill="#323232" font-weight="700" align="top" lineHeight="125%" anchor="start" family="微软雅黑" size="16px" weight="700" font-style="" opacity="1" y="-4" transform="rotate(0)"><tspan id="SvgjsTspan1021" dy="20" x="10"><tspan id="SvgjsTspan1022" style="">ExtensionLoader</tspan></tspan></text></g></g><g id="SvgjsG1023" transform="translate(1400.000015258789,90.87498474121094)"><path id="SvgjsPath1024" d="M 0 0L 798 0L 798 130L 0 130Z" stroke="none" fill="none"></path><g id="SvgjsG1025"><text id="SvgjsText1026" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="798px" fill="#323232" font-weight="700" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="700" font-style="" opacity="1" y="5.375" transform="rotate(0)"><tspan id="SvgjsTspan1027" dy="16.25" x="399"><tspan id="SvgjsTspan1028" style="">private static final Map&lt;Class&lt;?&gt;, ExtensionLoader&lt;?&gt;&gt; EXTENSION_LOADERS = new ConcurrentHashMap&lt;&gt;();</tspan></tspan><tspan id="SvgjsTspan1029" dy="16.25" x="399"><tspan id="SvgjsTspan1030" style=""> </tspan></tspan><tspan id="SvgjsTspan1031" dy="16.25" x="399"><tspan id="SvgjsTspan1032" style="">private static final Map&lt;Class&lt;?&gt;, Object&gt; EXTENSION_INSTANCES = new ConcurrentHashMap&lt;&gt;();</tspan></tspan><tspan id="SvgjsTspan1033" dy="16.25" x="399"><tspan id="SvgjsTspan1034" style=""> </tspan></tspan><tspan id="SvgjsTspan1035" dy="16.25" x="399"><tspan id="SvgjsTspan1036" style="">private final Map&lt;String, Holder&lt;Object&gt;&gt; cachedInstances = new ConcurrentHashMap&lt;&gt;();</tspan></tspan><tspan id="SvgjsTspan1037" dy="16.25" x="399"><tspan id="SvgjsTspan1038" style=""> </tspan></tspan><tspan id="SvgjsTspan1039" dy="16.25" x="399"><tspan id="SvgjsTspan1040" style="">private final Holder&lt;Map&lt;String, Class&lt;?&gt;&gt;&gt; cachedClasses = new Holder&lt;&gt;();</tspan></tspan></text></g></g><g id="SvgjsG1041" transform="translate(741.0000152587891,123.99998474121094)"><path id="SvgjsPath1042" d="M 0 4Q 0 0 4 0L 321 0Q 325 0 325 4L 325 46Q 325 50 321 50L 4 50Q 0 50 0 46Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#e5f6da"></path><g id="SvgjsG1043"><text id="SvgjsText1044" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="305px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="14.375" transform="rotate(0)"><tspan id="SvgjsTspan1045" dy="16.25" x="162.5"><tspan id="SvgjsTspan1046" style="">先去 cachedInstances 取出 Holder</tspan></tspan></text></g></g><g id="SvgjsG1047"><path id="SvgjsPath1048" d="M903.5000152587891 75.74998474121094L903.5000152587891 99.49998474121094L903.5000152587891 99.49998474121094L903.5000152587891 121.29998474121095" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1049)"></path></g><g id="SvgjsG1051"><path id="SvgjsPath1052" d="M903.5000152587891 174.74998474121094L903.5000152587891 224.99998474121094L794.5000152587891 224.99998474121094L794.5000152587891 403.99998474121094L925.300015258789 403.99998474121094" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1053)"></path><rect id="SvgjsRect1055" width="85" height="16" x="752.0000152587891" y="301.57333275883207" fill="#ffffff"></rect><text id="SvgjsText1056" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="85px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="298.94833275883207" transform="rotate(0)"><tspan id="SvgjsTspan1057" dy="16.25" x="794.5000152587891"><tspan id="SvgjsTspan1058" style="">holder != null</tspan></tspan></text></g><g id="SvgjsG1059" transform="translate(928.0000152587891,275.99998474121094)"><path id="SvgjsPath1060" d="M 0 4Q 0 0 4 0L 321 0Q 325 0 325 4L 325 46Q 325 50 321 50L 4 50Q 0 50 0 46Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#e5f6da"></path><g id="SvgjsG1061"><text id="SvgjsText1062" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="305px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="5.875" transform="rotate(0)"><tspan id="SvgjsTspan1063" dy="16.25" x="162.5"><tspan id="SvgjsTspan1064" style="">创建一个新的 Holder 对象放入（这里使用的 </tspan></tspan><tspan id="SvgjsTspan1065" dy="16.25" x="162.5"><tspan id="SvgjsTspan1066" style="font-weight: bold;">ConcurrentHashMap</tspan><tspan id="SvgjsTspan1067" style="">，不存在线程安全的问题）</tspan></tspan></text></g></g><g id="SvgjsG1068"><path id="SvgjsPath1069" d="M903.5000152587891 174.74998474121094L903.5000152587891 224.99998474121094L1090.500015258789 224.99998474121094L1090.500015258789 273.29998474121095" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1070)"></path><rect id="SvgjsRect1072" width="90" height="16" x="960.9056380961592" y="216.99998474121094" fill="#ffffff"></rect><text id="SvgjsText1073" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="90px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="214.37498474121094" transform="rotate(0)"><tspan id="SvgjsTspan1074" dy="16.25" x="1005.9056380961592"><tspan id="SvgjsTspan1075" style="">holder == null</tspan></tspan></text></g><g id="SvgjsG1076" transform="translate(25.000015258789062,35.87498474121094)"><path id="SvgjsPath1077" d="M 0 0L 486 0L 502 16L 502 174L 0 174L 0 0Z" stroke="none" fill-opacity="1" fill="#fff7bc"></path><path id="SvgjsPath1078" d="M 486 0L 486 16L 502 16Z" stroke="none" fill-opacity="1" fill="#e4d089"></path><path id="SvgjsPath1079" d="M 0 0L 486 0L 502 16L 502 174L 0 174L 0 0Z" stroke="none" fill="none"></path><g id="SvgjsG1080"><text id="SvgjsText1081" font-family="微软雅黑" text-anchor="start" font-size="13px" width="482px" fill="#323232" font-weight="400" align="top" lineHeight="125%" anchor="start" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="7.375" transform="rotate(0)"><tspan id="SvgjsTspan1082" dy="16.25" x="10"><tspan id="SvgjsTspan1083" style="font-weight: bold;fill: rgb(231, 79, 76);">使用 Holder 类的好处：</tspan><tspan id="SvgjsTspan1084" style="">不需要关心 Holder 类里存储的对象是什么类型的</tspan></tspan><tspan id="SvgjsTspan1085" dy="16.25" x="10"><tspan id="SvgjsTspan1086" style="">public class Holder&lt;T&gt; {</tspan></tspan><tspan id="SvgjsTspan1087" dy="16.25" x="10"><tspan id="SvgjsTspan1088" style="">    private volatile T value;</tspan></tspan><tspan id="SvgjsTspan1089" dy="16.25" x="10"><tspan id="SvgjsTspan1090" style="">    public T get() {</tspan></tspan><tspan id="SvgjsTspan1091" dy="16.25" x="10"><tspan id="SvgjsTspan1092" style="">        return value;</tspan></tspan><tspan id="SvgjsTspan1093" dy="16.25" x="10"><tspan id="SvgjsTspan1094" style="">    }</tspan></tspan><tspan id="SvgjsTspan1095" dy="16.25" x="10"><tspan id="SvgjsTspan1096" style="">    public void set(T value) {</tspan></tspan><tspan id="SvgjsTspan1097" dy="16.25" x="10"><tspan id="SvgjsTspan1098" style="">        this.value = value;</tspan></tspan><tspan id="SvgjsTspan1099" dy="16.25" x="10"><tspan id="SvgjsTspan1100" style="">    }</tspan></tspan><tspan id="SvgjsTspan1101" dy="16.25" x="10"><tspan id="SvgjsTspan1102" style="">}</tspan></tspan></text></g></g><g id="SvgjsG1103"><path id="SvgjsPath1104" d="M527.0000152587891 122.87498474121094L538.0000152587891 122.87498474121094L538.0000152587891 300.99998474121094L549.0000152587891 300.99998474121094" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1105)"></path></g><g id="SvgjsG1107" transform="translate(928.0000152587891,378.99998474121094)"><path id="SvgjsPath1108" d="M 0 4Q 0 0 4 0L 321 0Q 325 0 325 4L 325 46Q 325 50 321 50L 4 50Q 0 50 0 46Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#e5f6da"></path><g id="SvgjsG1109"><text id="SvgjsText1110" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="305px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="14.375" transform="rotate(0)"><tspan id="SvgjsTspan1111" dy="16.25" x="162.5"><tspan id="SvgjsTspan1112" style="">获取 holder 持有的对象（holder.get()）</tspan></tspan></text></g></g><g id="SvgjsG1113"><path id="SvgjsPath1114" d="M1090.500015258789 326.74998474121094L1090.500015258789 352.49998474121094L1090.500015258789 352.49998474121094L1090.500015258789 376.2999847412109" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1115)"></path></g><g id="SvgjsG1117" transform="translate(724.0000152587891,502.99998474121094)"><path id="SvgjsPath1118" d="M 0 4Q 0 0 4 0L 321 0Q 325 0 325 4L 325 46Q 325 50 321 50L 4 50Q 0 50 0 46Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#e5f6da"></path><g id="SvgjsG1119"><text id="SvgjsText1120" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="305px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="14.375" transform="rotate(0)"><tspan id="SvgjsTspan1121" dy="16.25" x="162.5"><tspan id="SvgjsTspan1122" style="">返回 holder.get()</tspan></tspan></text></g></g><g id="SvgjsG1123"><path id="SvgjsPath1124" d="M1090.500015258789 429.74998474121094L1090.500015258789 464.99998474121094L886.5000152587891 464.99998474121094L886.5000152587891 500.2999847412109" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1125)"></path><rect id="SvgjsRect1127" width="116" height="16" x="947.0426876725821" y="456.9999847412109" fill="#ffffff"></rect><text id="SvgjsText1128" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="116px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="454.3749847412109" transform="rotate(0)"><tspan id="SvgjsTspan1129" dy="16.25" x="1005.0426876725821"><tspan id="SvgjsTspan1130" style="">holder.get() != null</tspan></tspan></text></g><g id="SvgjsG1131" transform="translate(1128.000015258789,502.99998474121094)"><path id="SvgjsPath1132" d="M 0 4Q 0 0 4 0L 321 0Q 325 0 325 4L 325 46Q 325 50 321 50L 4 50Q 0 50 0 46Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#e5f6da"></path><g id="SvgjsG1133"><text id="SvgjsText1134" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="305px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="5.875" transform="rotate(0)"><tspan id="SvgjsTspan1135" dy="16.25" x="162.5"><tspan id="SvgjsTspan1136" style="">使用</tspan><tspan id="SvgjsTspan1137" style="font-weight: bold;">双端检索</tspan><tspan id="SvgjsTspan1138" style="">去创建扩展类的实例对象，并设置到 </tspan></tspan><tspan id="SvgjsTspan1139" dy="16.25" x="162.5"><tspan id="SvgjsTspan1140" style="">holder 中</tspan></tspan></text></g></g><g id="SvgjsG1141"><path id="SvgjsPath1142" d="M1090.500015258789 429.74998474121094L1090.500015258789 464.99998474121094L1290.500015258789 464.99998474121094L1290.500015258789 500.2999847412109" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1143)"></path><rect id="SvgjsRect1145" width="121" height="16" x="1127.9518351821607" y="456.99998474121094" fill="#ffffff"></rect><text id="SvgjsText1146" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="121px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="454.37498474121094" transform="rotate(0)"><tspan id="SvgjsTspan1147" dy="16.25" x="1188.4518351821607"><tspan id="SvgjsTspan1148" style="">holder.get() == null</tspan></tspan></text></g><g id="SvgjsG1149"><path id="SvgjsPath1150" d="M1453.750015258789 527.9999847412109L1524.500015258789 527.9999847412109L1524.500015258789 527.9999847412109L1593.050015258789 527.9999847412109" stroke-dasharray="8,5" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1151)"></path><rect id="SvgjsRect1153" width="52" height="16" x="1486.1975677063415" y="519.9999847412109" fill="#ffffff"></rect><text id="SvgjsText1154" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="52px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="517.3749847412109" transform="rotate(0)"><tspan id="SvgjsTspan1155" dy="16.25" x="1512.1975677063415"><tspan id="SvgjsTspan1156" style="">双端检索</tspan></tspan></text></g><g id="SvgjsG1157" transform="translate(1596.000015258789,435.49998474121094)"><path id="SvgjsPath1158" d="M 0 0L 494 0L 494 185L 0 185Z" stroke="none" fill="url(#SvgjsPattern1159)"></path></g><g id="SvgjsG1161" transform="translate(1128.000015258789,614.9999847412109)"><path id="SvgjsPath1162" d="M 0 4Q 0 0 4 0L 321 0Q 325 0 325 4L 325 46Q 325 50 321 50L 4 50Q 0 50 0 46Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#e5f6da"></path><g id="SvgjsG1163"><text id="SvgjsText1164" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="305px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="14.375" transform="rotate(0)"><tspan id="SvgjsTspan1165" dy="16.25" x="162.5"><tspan id="SvgjsTspan1166" style="">调用 createExtension("loadBalance") 创建扩展类</tspan></tspan></text></g></g><g id="SvgjsG1167"><path id="SvgjsPath1168" d="M1290.500015258789 553.7499847412109L1290.500015258789 583.9999847412109L1290.500015258789 583.9999847412109L1290.500015258789 612.2999847412109" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1169)"></path></g><g id="SvgjsG1171" transform="translate(1417.000015258789,772.9999847412109)"><path id="SvgjsPath1172" d="M 0 4Q 0 0 4 0L 321 0Q 325 0 325 4L 325 46Q 325 50 321 50L 4 50Q 0 50 0 46Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#fadded"></path><g id="SvgjsG1173"><text id="SvgjsText1174" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="305px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="14.375" transform="rotate(0)"><tspan id="SvgjsTspan1175" dy="16.25" x="162.5"><tspan id="SvgjsTspan1176" style="">createExtension("loadBalance") </tspan></tspan></text></g></g><g id="SvgjsG1177"><path id="SvgjsPath1178" d="M1290.500015258789 665.7499847412109L1290.500015258789 797.9999847412109L1414.300015258789 797.9999847412109" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1179)"></path></g><g id="SvgjsG1181" transform="translate(2169.000015258789,860.9999847412109)"><path id="SvgjsPath1182" d="M 0 4Q 0 0 4 0L 321 0Q 325 0 325 4L 325 46Q 325 50 321 50L 4 50Q 0 50 0 46Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#d2d6f9"></path><g id="SvgjsG1183"><text id="SvgjsText1184" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="305px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="14.375" transform="rotate(0)"><tspan id="SvgjsTspan1185" dy="16.25" x="162.5"><tspan id="SvgjsTspan1186" style="">getExtensionClasses()</tspan></tspan></text></g></g><g id="SvgjsG1187" transform="translate(2169.000015258789,961.9999847412109)"><path id="SvgjsPath1188" d="M 0 4Q 0 0 4 0L 321 0Q 325 0 325 4L 325 46Q 325 50 321 50L 4 50Q 0 50 0 46Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#d2d6f9"></path><g id="SvgjsG1189"><text id="SvgjsText1190" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="305px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="14.375" transform="rotate(0)"><tspan id="SvgjsTspan1191" dy="16.25" x="162.5"><tspan id="SvgjsTspan1192" style="">先去 cachedClasses 缓存中取</tspan></tspan></text></g></g><g id="SvgjsG1193"><path id="SvgjsPath1194" d="M2331.500015258789 911.7499847412109L2331.500015258789 936.4999847412109L2331.500015258789 936.4999847412109L2331.500015258789 959.2999847412109" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1195)"></path></g><g id="SvgjsG1197" transform="translate(2616.000015258789,1080.999984741211)"><path id="SvgjsPath1198" d="M 0 4Q 0 0 4 0L 321 0Q 325 0 325 4L 325 46Q 325 50 321 50L 4 50Q 0 50 0 46Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#d2d6f9"></path><g id="SvgjsG1199"><text id="SvgjsText1200" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="305px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="5.875" transform="rotate(0)"><tspan id="SvgjsTspan1201" dy="16.25" x="162.5"><tspan id="SvgjsTspan1202" style="">从目录下加载所有的扩展类，并将加载的扩展类设置</tspan></tspan><tspan id="SvgjsTspan1203" dy="16.25" x="162.5"><tspan id="SvgjsTspan1204" style="">进 cachedClasses</tspan></tspan></text></g></g><g id="SvgjsG1205"><path id="SvgjsPath1206" d="M2331.500015258789 1012.7499847412109L2331.500015258789 1046.499984741211L2778.500015258789 1046.499984741211L2778.500015258789 1078.299984741211" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1207)"></path><rect id="SvgjsRect1209" width="357" height="16" x="2367.9875152587892" y="1038.499984741211" fill="#ffffff"></rect><text id="SvgjsText1210" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="357px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="1035.874984741211" transform="rotate(0)"><tspan id="SvgjsTspan1211" dy="16.25" x="2546.4875152587892"><tspan id="SvgjsTspan1212" style="">如果 cachedClasses 为空，则证明之前没有加载过 SPI 扩展类</tspan></tspan></text></g><g id="SvgjsG1213" transform="translate(2941.000015258789,1183.999984741211)"><path id="SvgjsPath1214" d="M 0 4Q 0 0 4 0L 321 0Q 325 0 325 4L 325 46Q 325 50 321 50L 4 50Q 0 50 0 46Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#fcf9ea"></path><g id="SvgjsG1215"><text id="SvgjsText1216" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="305px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="5.875" transform="rotate(0)"><tspan id="SvgjsTspan1217" dy="16.25" x="162.5"><tspan id="SvgjsTspan1218" style="">loadDirectory(classes)</tspan></tspan><tspan id="SvgjsTspan1219" dy="16.25" x="162.5"><tspan id="SvgjsTspan1220" style="">这里的 classes 是 Map&lt;String,Class&lt;?&gt;&gt; 类型</tspan></tspan></text></g></g><g id="SvgjsG1221"><path id="SvgjsPath1222" d="M2778.500015258789 1131.749984741211L2778.500015258789 1208.999984741211L2938.3000152587892 1208.999984741211" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1223)"></path></g><g id="SvgjsG1225" transform="translate(2775.500015258789,1326.999984741211)"><path id="SvgjsPath1226" d="M 0 4Q 0 0 4 0L 652 0Q 656 0 656 4L 656 46Q 656 50 652 50L 4 50Q 0 50 0 46Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#fcf9ea"></path><g id="SvgjsG1227"><text id="SvgjsText1228" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="636px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="5.875" transform="rotate(0)"><tspan id="SvgjsTspan1229" dy="16.25" x="328"><tspan id="SvgjsTspan1230" style="">获取扩展类的配置文件名称：META-INF/extensions/ + github.javaguide.loadbalance.LoadBalance</tspan></tspan><tspan id="SvgjsTspan1231" dy="16.25" x="328"><tspan id="SvgjsTspan1232" style="">前边为文件所在路径，后边为扩展类所实现的接口的全路径</tspan></tspan></text></g></g><g id="SvgjsG1233"><path id="SvgjsPath1234" d="M3103.500015258789 1234.749984741211L3103.500015258789 1280.499984741211L3103.500015258789 1280.499984741211L3103.500015258789 1324.299984741211" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1235)"></path></g><g id="SvgjsG1237" transform="translate(3505.000015258789,1304.499984741211)"><path id="SvgjsPath1238" d="M 0 0L 389 0L 389 95L 0 95Z" stroke="none" fill="url(#SvgjsPattern1239)"></path></g><g id="SvgjsG1241"><path id="SvgjsPath1242" d="M3432.250015258789 1351.999984741211L3468.250015258789 1351.999984741211L3468.250015258789 1351.999984741211L3502.0500152587892 1351.999984741211" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1243)"></path></g><g id="SvgjsG1245" transform="translate(2916.875015258789,1465.999984741211)"><path id="SvgjsPath1246" d="M 0 4Q 0 0 4 0L 369.25 0Q 373.25 0 373.25 4L 373.25 46Q 373.25 50 369.25 50L 4 50Q 0 50 0 46Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#fcf9ea"></path><g id="SvgjsG1247"><text id="SvgjsText1248" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="354px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="14.375" transform="rotate(0)"><tspan id="SvgjsTspan1249" dy="16.25" x="187"><tspan id="SvgjsTspan1250" style="">通过 ExtensionLoader.class.getClassLoader() 获取类加载器</tspan></tspan></text></g></g><g id="SvgjsG1251"><path id="SvgjsPath1252" d="M3103.500015258789 1377.749984741211L3103.500015258789 1421.499984741211L3103.500015258789 1421.499984741211L3103.500015258789 1463.299984741211" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1253)"></path></g><g id="SvgjsG1255" transform="translate(2916.875015258789,1592.999984741211)"><path id="SvgjsPath1256" d="M 0 4Q 0 0 4 0L 369.25 0Q 373.25 0 373.25 4L 373.25 46Q 373.25 50 369.25 50L 4 50Q 0 50 0 46Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#fcf9ea"></path><g id="SvgjsG1257"><text id="SvgjsText1258" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="354px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="5.875" transform="rotate(0)"><tspan id="SvgjsTspan1259" dy="16.25" x="187"><tspan id="SvgjsTspan1260" style="">使用类加载器去加载配置文件：</tspan></tspan><tspan id="SvgjsTspan1261" dy="16.25" x="187"><tspan id="SvgjsTspan1262" style="">classLoader.getResources(fileName)</tspan></tspan></text></g></g><g id="SvgjsG1263"><path id="SvgjsPath1264" d="M3103.500015258789 1516.749984741211L3103.500015258789 1554.499984741211L3103.500015258789 1554.499984741211L3103.500015258789 1590.299984741211" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1265)"></path></g><g id="SvgjsG1267" transform="translate(2685.000015258789,1725.999984741211)"><path id="SvgjsPath1268" d="M 0 4Q 0 0 4 0L 833 0Q 837 0 837 4L 837 107Q 837 111 833 111L 4 111Q 0 111 0 107Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#fcf9ea"></path><g id="SvgjsG1269"><text id="SvgjsText1270" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="817px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="20.375" transform="rotate(0)"><tspan id="SvgjsTspan1271" dy="16.25" x="418.5"><tspan id="SvgjsTspan1272" style="">加载配置文件之后，读取配置文件的内容</tspan></tspan><tspan id="SvgjsTspan1273" dy="16.25" x="418.5"><tspan id="SvgjsTspan1274" style="">配置文件内容格式为：key=value</tspan></tspan><tspan id="SvgjsTspan1275" dy="16.25" x="418.5"><tspan id="SvgjsTspan1276" style="">通过 getExtension("loadBalance") 传入的参数进行获取，拿到对应的实现类的全路径，通过 </tspan></tspan><tspan id="SvgjsTspan1277" dy="16.25" x="418.5"><tspan id="SvgjsTspan1278" style="">classLoader.loadClass("github.javaguide.loadbalance.loadbalancer.ConsistentHashLoadBalance") 进行加载，得到字节码 Class&lt;?&gt;</tspan></tspan></text></g></g><g id="SvgjsG1279"><path id="SvgjsPath1280" d="M3103.500015258789 1643.749984741211L3103.500015258789 1684.499984741211L3103.500015258789 1684.499984741211L3103.500015258789 1723.299984741211" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1281)"></path></g><g id="SvgjsG1283" transform="translate(3596.500015258789,1743.499984741211)"><path id="SvgjsPath1284" d="M 0 0L 1000 0L 1000 76L 0 76Z" stroke="none" fill="url(#SvgjsPattern1285)"></path></g><g id="SvgjsG1287"><path id="SvgjsPath1288" d="M3522.750015258789 1781.499984741211L3559.250015258789 1781.499984741211L3559.250015258789 1781.499984741211L3593.5500152587892 1781.499984741211" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1289)"></path></g><g id="SvgjsG1291" transform="translate(1905.000015258789,1080.999984741211)"><path id="SvgjsPath1292" d="M 0 4Q 0 0 4 0L 321 0Q 325 0 325 4L 325 46Q 325 50 321 50L 4 50Q 0 50 0 46Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#d2d6f9"></path><g id="SvgjsG1293"><text id="SvgjsText1294" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="305px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="14.375" transform="rotate(0)"><tspan id="SvgjsTspan1295" dy="16.25" x="162.5"><tspan id="SvgjsTspan1296" style="">return cachedClasses.get()</tspan></tspan></text></g></g><g id="SvgjsG1297"><path id="SvgjsPath1298" d="M2331.500015258789 1012.7499847412109L2331.500015258789 1046.499984741211L2067.500015258789 1046.499984741211L2067.500015258789 1078.299984741211" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1299)"></path><rect id="SvgjsRect1301" width="239" height="16" x="2082.4594747182487" y="1038.499984741211" fill="#ffffff"></rect><text id="SvgjsText1302" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="239px" fill="#323232" font-weight="400" align="top" lineHeight="16px" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="1035.874984741211" transform="rotate(0)"><tspan id="SvgjsTspan1303" dy="16.25" x="2201.9594747182487"><tspan id="SvgjsTspan1304" style="">如果 cachedClasses 不为空，则直接返回</tspan></tspan></text></g><g id="SvgjsG1305" transform="translate(1417.000015258789,860.9999847412109)"><path id="SvgjsPath1306" d="M 0 4Q 0 0 4 0L 321 0Q 325 0 325 4L 325 46Q 325 50 321 50L 4 50Q 0 50 0 46Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#fadded"></path><g id="SvgjsG1307"><text id="SvgjsText1308" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="305px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="14.375" transform="rotate(0)"><tspan id="SvgjsTspan1309" dy="16.25" x="162.5"><tspan id="SvgjsTspan1310" style="">先获取所有的 SPI 扩展类：getExtensionClasses()</tspan></tspan></text></g></g><g id="SvgjsG1311"><path id="SvgjsPath1312" d="M1579.500015258789 823.7499847412109L1579.500015258789 841.9999847412109L1579.500015258789 841.9999847412109L1579.500015258789 858.2999847412109" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1313)"></path></g><g id="SvgjsG1315"><path id="SvgjsPath1316" d="M1742.750015258789 885.9999847412109L1955.500015258789 885.9999847412109L1955.500015258789 885.9999847412109L2166.3000152587892 885.9999847412109" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1317)"></path></g><g id="SvgjsG1319" transform="translate(1376.500015258789,957.9999847412109)"><path id="SvgjsPath1320" d="M 0 4Q 0 0 4 0L 402 0Q 406 0 406 4L 406 46Q 406 50 402 50L 4 50Q 0 50 0 46Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#fadded"></path><g id="SvgjsG1321"><text id="SvgjsText1322" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="386px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="14.375" transform="rotate(0)"><tspan id="SvgjsTspan1323" dy="16.25" x="203"><tspan id="SvgjsTspan1324" style="">通过 name="loadBalance" 取到我们需要的扩展类的 Class 对象</tspan></tspan></text></g></g><g id="SvgjsG1325"><path id="SvgjsPath1326" d="M1579.500015258789 911.7499847412109L1579.500015258789 934.4999847412109L1579.500015258789 934.4999847412109L1579.500015258789 955.2999847412109" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1327)"></path></g><g id="SvgjsG1329" transform="translate(1343.750015258789,1054.999984741211)"><path id="SvgjsPath1330" d="M 0 4Q 0 0 4 0L 467.5 0Q 471.5 0 471.5 4L 471.5 46Q 471.5 50 467.5 50L 4 50Q 0 50 0 46Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#fadded"></path><g id="SvgjsG1331"><text id="SvgjsText1332" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="452px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="14.375" transform="rotate(0)"><tspan id="SvgjsTspan1333" dy="16.25" x="236"><tspan id="SvgjsTspan1334" style="">去 EXTENSION_INSTANCES 缓存中使用 Class 作为 key 取出对应的实例对象</tspan></tspan></text></g></g><g id="SvgjsG1335"><path id="SvgjsPath1336" d="M1579.500015258789 1008.7499847412109L1579.500015258789 1031.499984741211L1579.500015258789 1031.499984741211L1579.500015258789 1052.299984741211" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1337)"></path></g><g id="SvgjsG1339" transform="translate(1369.000015258789,1155.999984741211)"><path id="SvgjsPath1340" d="M 0 4Q 0 0 4 0L 417 0Q 421 0 421 4L 421 46Q 421 50 417 50L 4 50Q 0 50 0 46Z" stroke="rgba(33,41,48,1)" stroke-width="1.5" fill-opacity="1" fill="#fadded"></path><g id="SvgjsG1341"><text id="SvgjsText1342" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="401px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="5.875" transform="rotate(0)"><tspan id="SvgjsTspan1343" dy="16.25" x="210.5"><tspan id="SvgjsTspan1344" style="">如果缓存中没有，调用 clazz.newInstance() 进行实例化，并放入缓存</tspan></tspan><tspan id="SvgjsTspan1345" dy="16.25" x="210.5"><tspan id="SvgjsTspan1346" style="">使用</tspan><tspan id="SvgjsTspan1347" style="font-weight: bold;fill: rgb(231, 79, 76);">双端检索</tspan></tspan></text></g></g><g id="SvgjsG1348"><path id="SvgjsPath1349" d="M1579.500015258789 1105.749984741211L1579.500015258789 1130.499984741211L1579.500015258789 1130.499984741211L1579.500015258789 1153.299984741211" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1350)"></path></g><g id="SvgjsG1352" transform="translate(1369.000015258789,1248.999984741211)"><path id="SvgjsPath1353" d="M 0 4Q 0 0 4 0L 417 0Q 421 0 421 4L 421 46Q 421 50 417 50L 4 50Q 0 50 0 46Z" stroke="rgba(255,255,255,1)" stroke-width="1.5" fill-opacity="1" fill="#f19594"></path><g id="SvgjsG1354"><text id="SvgjsText1355" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="401px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="14.375" transform="rotate(0)"><tspan id="SvgjsTspan1356" dy="16.25" x="210.5"><tspan id="SvgjsTspan1357" style="">返回实例对象</tspan></tspan></text></g></g><g id="SvgjsG1358"><path id="SvgjsPath1359" d="M1579.500015258789 1206.749984741211L1579.500015258789 1227.499984741211L1579.500015258789 1227.499984741211L1579.500015258789 1246.299984741211" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1360)"></path></g><g id="SvgjsG1362" transform="translate(1008.0000152587891,1248.999984741211)"><path id="SvgjsPath1363" d="M 0 0L 205 0L 221 16L 221 50L 0 50L 0 0Z" stroke="none" fill-opacity="1" fill="#fff7bc"></path><path id="SvgjsPath1364" d="M 205 0L 205 16L 221 16Z" stroke="none" fill-opacity="1" fill="#e4d089"></path><path id="SvgjsPath1365" d="M 0 0L 205 0L 221 16L 221 50L 0 50L 0 0Z" stroke="none" fill="none"></path><g id="SvgjsG1366"><text id="SvgjsText1367" font-family="微软雅黑" text-anchor="middle" font-size="13px" width="201px" fill="#323232" font-weight="400" align="middle" lineHeight="125%" anchor="middle" family="微软雅黑" size="13px" weight="400" font-style="" opacity="1" y="14.375" transform="rotate(0)"><tspan id="SvgjsTspan1368" dy="16.25" x="110.5"><tspan id="SvgjsTspan1369" style="">最终实例对象在这里创建并返回</tspan></tspan></text></g></g><g id="SvgjsG1370"><path id="SvgjsPath1371" d="M1229.000015258789 1273.999984741211L1299.000015258789 1273.999984741211L1299.000015258789 1273.999984741211L1366.300015258789 1273.999984741211" stroke="#323232" stroke-width="1.5" fill="none" marker-end="url(#SvgjsMarker1372)"></path></g></svg>